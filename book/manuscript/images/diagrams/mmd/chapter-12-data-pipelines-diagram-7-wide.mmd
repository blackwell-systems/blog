flowchart LR
    subgraph s1["Microservices"]
        svc1[Service A: JSON logs]
        svc2[Service B: JSON logs]
        svc3[Service C: JSON logs]
    end
    
    subgraph s2["Collection"]
        filebeat[Filebeat: Tail files]
        kafka[Kafka: logs topic]
    end
    
    subgraph s3["Processing"]
        logstash[Logstash: Parse & enrich]
        filter[Filter: Drop debug logs]
    end
    
    subgraph s4["Storage"]
        elastic[(Elasticsearch: Indexed logs)]
        kibana[Kibana: Dashboards]
    end
    
    subgraph s5["Alerting"]
        alert[Alert Rules: Error rate > 5%]
        notify[Slack/PagerDuty: Notifications]
    end
    
    s1 --> s2 --> s3 --> s4 --> s5
    
    style s1 fill:#C8D8E8,stroke:#3a4a5a,color:#2c2c2c
    style s2 fill:#D4E8D4,stroke:#3a5a3a,color:#2c2c2c
    style s3 fill:#D4E8D4,stroke:#3a5a3a,color:#2c2c2c
    style s4 fill:#E8C8C8,stroke:#5a4a3a,color:#2c2c2c
    style s5 fill:#E8C8C8,stroke:#5a4a3a,color:#2c2c2c
